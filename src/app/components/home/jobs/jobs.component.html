<section class="section" id="jobs">
  <div class="container jobs">
    <div class="section-box">
      <div class="about-title mb-5" data-animate="slideInUp" data-animate-duration="1000">
        <h3 class="e-font section-title">
          <span class="code-font n-section-title">02.</span>
          {{ "Experience.Title" | translate }}
        </h3>
      </div>

      <!-- Section Emploi Principal -->
      <div class="jobs-section mb-5" data-animate="fadeInUp" data-animate-duration="1200" data-animate-delay="300">
        <h4 class="section-subtitle mb-3">{{ "Experience.EmploymentSection" | translate }}</h4>
        <div class="jobs-timeline" data-animate="fadeInUp" data-animate-duration="1200" data-animate-delay="300">
          <div 
            *ngFor="let job of 'Experience.Jobs' | translate; let i = index"
            class="job-item"
            [class.active]="i === activeJobIndex"
            (click)="setActiveJob(i)"
            data-animate="scaleIn"
            [attr.data-animate-delay]="600 + (i * 150)"
          >
            <div class="job-timeline-dot"></div>
            <div class="job-header">
              <h4 class="job-title">{{ job.Title }}</h4>
              <span class="job-company">{{ job.Tab }}</span>
            </div>
            <div class="job-content" *ngIf="i === activeJobIndex">
              <h5 class="job-time">{{ job.Date }}</h5>
              <div class="job-description-list">
                <p
                  *ngFor="
                    let jobDescriptionParagraph of job.Description;
                    let i = index
                  "
                  class="job-description"
                  [innerHTML]="jobDescriptionParagraph | translate"
                  data-animate="fadeInLeft"
                  [attr.data-animate-delay]="i * 200"
                ></p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Section Missions/Projets Clients -->
      <div class="missions-section" data-animate="fadeInUp" data-animate-duration="1200" data-animate-delay="600">
        <h4 class="section-subtitle mb-4">{{ "Experience.MissionsSection" | translate }}</h4>
        <div class="missions-timeline" data-animate="fadeInUp" data-animate-duration="1200" data-animate-delay="600">
          <div 
            *ngFor="let mission of 'Experience.Missions' | translate; let i = index"
            class="mission-item"
            [class.active]="i === activeMissionIndex"
            (click)="setActiveMission(i)"
            data-animate="scaleIn"
            [attr.data-animate-delay]="900 + (i * 150)"
          >
            <div class="mission-timeline-dot"></div>
            <div class="mission-header">
              <h4 class="mission-title">{{ mission.Title }}</h4>
              <span class="mission-company">{{ mission.Tab }}</span>
            </div>
            <div class="mission-content" *ngIf="i === activeMissionIndex">
              <h5 class="job-time">
                <i class="fas fa-calendar-alt me-2"></i>
                {{ mission.Date }}
              </h5>
              <div class="mission-description">
                <p
                  *ngFor="
                    let missionDescriptionParagraph of mission.Description;
                    let i = index
                  "
                  class="job-description"
                  [innerHTML]="missionDescriptionParagraph | translate"
                  data-animate="fadeInLeft"
                  [attr.data-animate-delay]="i * 200"
                ></p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
